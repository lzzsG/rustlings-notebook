# traits

---

åœ¨æ¥ä¸‹æ¥çš„ä¸€ç³»åˆ— Rust ç»ƒä¹ ä¸­ï¼Œæˆ‘ä»¬å°†æ·±å…¥æ¢è®¨ Rust çš„ç‰¹è´¨ï¼ˆTraitsï¼‰ç³»ç»Ÿã€‚é€šè¿‡è¿™äº›ç»ƒä¹ ï¼Œä½ å°†æœ‰æœºä¼šå­¦ä¹ å¦‚ä½•å®šä¹‰å’Œå®ç°ç‰¹è´¨ï¼Œå¦‚ä½•ä½¿ç”¨ç‰¹è´¨ä½œä¸ºå‡½æ•°å‚æ•°ï¼Œä»¥åŠå¦‚ä½•åœ¨å®é™…ç¼–ç¨‹ä¸­æœ‰æ•ˆåœ°ä½¿ç”¨å®ƒä»¬æ¥å¢å¼ºä»£ç çš„å¯é‡ç”¨æ€§å’Œæ¨¡å—åŒ–ã€‚

ç‰¹è´¨æ˜¯ Rust ä¸­å®ç°å¤šæ€å’Œä»£ç å¤ç”¨çš„å…³é”®å·¥å…·ã€‚é€šè¿‡å®šä¹‰å…±æœ‰çš„è¡Œä¸ºæ¥å£ï¼Œç‰¹è´¨å…è®¸æˆ‘ä»¬ç¼–å†™å¯æ“ä½œå¤šç§æ•°æ®ç±»å‹çš„æ³›å‹ä»£ç ï¼ŒåŒæ—¶ä¿æŒç±»å‹å®‰å…¨å’Œé«˜æ€§èƒ½ã€‚

ä»¥ä¸‹æ˜¯ä½ å°†ä¼šå­¦ä¹ åˆ°çš„å‡ ä¸ªå…³é”®æ¦‚å¿µï¼š

1. **ç‰¹è´¨å®šä¹‰ä¸å®ç°**ï¼š
   - ä½ å°†å­¦ä¹ å¦‚ä½•å®šä¹‰ç‰¹è´¨ï¼Œå¹¶ä¸ºç‰¹å®šç±»å‹å®ç°è¿™äº›ç‰¹è´¨ã€‚è¿™æ˜¯ç†è§£å¦‚ä½•åœ¨ Rust ä¸­å°è£…å’ŒæŠ½è±¡å…±æœ‰è¡Œä¸ºçš„åŸºç¡€ã€‚

2. **ç‰¹è´¨ä½œä¸ºå‡½æ•°å‚æ•°**ï¼š
   - ç‰¹è´¨å¯ä»¥ç”¨ä½œå‚æ•°ç±»å‹ï¼Œä½¿å‡½æ•°èƒ½å¤Ÿæ¥å—å®ç°äº†è¿™äº›ç‰¹è´¨çš„ä»»ä½•ç±»å‹ã€‚è¿™ç§æŠ€æœ¯æå¤§åœ°å¢å¼ºäº†å‡½æ•°çš„çµæ´»æ€§å’Œæ³›ç”¨æ€§ã€‚

3. **ç‰¹è´¨çš„é»˜è®¤å®ç°**ï¼š
   - ç‰¹è´¨ä¸ä»…å¯ä»¥å®šä¹‰å¿…é¡»å®ç°çš„æ–¹æ³•ï¼Œè¿˜å¯ä»¥æä¾›é»˜è®¤å®ç°ã€‚è¿™ä½¿å¾—ç‰¹è´¨çš„å®ç°è€…å¯ä»¥é€‰æ‹©æ€§åœ°è¦†ç›–è¿™äº›æ–¹æ³•ï¼Œæˆ–è€…ä½¿ç”¨é¢„è®¾çš„è¡Œä¸ºã€‚

4. **å¤šç‰¹è´¨çº¦æŸ**ï¼š
   - åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œä½ å¯èƒ½å¸Œæœ›ä¸€ä¸ªå‚æ•°åŒæ—¶å®ç°å¤šä¸ªç‰¹è´¨ã€‚é€šè¿‡ä½¿ç”¨ `+` è¯­æ³•ï¼ŒRust å…è®¸ä½ æŒ‡å®šå¤šé‡ç‰¹è´¨çº¦æŸï¼Œè¿›ä¸€æ­¥æ‰©å±•äº†ç‰¹è´¨çš„åº”ç”¨èŒƒå›´ã€‚

åœ¨å¼€å§‹è¿™äº›ç»ƒä¹ ä¹‹å‰ï¼Œå»ºè®®ä½ å›é¡¾ Rust å®˜æ–¹æ–‡æ¡£ä¸­æœ‰å…³ç‰¹è´¨çš„ç« èŠ‚ï¼Œè¿™å°†å¸®åŠ©ä½ æ›´å¥½åœ°ç†è§£æ¥ä¸‹æ¥çš„å†…å®¹å¹¶æœ‰æ•ˆè§£å†³é—®é¢˜ã€‚æ¯ä¸ªç»ƒä¹ éƒ½æ—¨åœ¨å¸®åŠ©ä½ é€æ­¥æŒæ¡å¦‚ä½•åœ¨ Rust ä¸­ä½¿ç”¨ç‰¹è´¨æ¥æ„å»ºçµæ´»å’Œå¯ç»´æŠ¤çš„åº”ç”¨ç¨‹åºã€‚

è®©æˆ‘ä»¬å¼€å§‹è¿™æ®µæ—…ç¨‹ï¼Œé€šè¿‡å…·ä½“çš„ä»£ç å®è·µæ¥æ·±åŒ–å¯¹ Rust ç‰¹è´¨ç³»ç»Ÿçš„ç†è§£å’Œåº”ç”¨ã€‚

> æœ¬ç« å°†â€œtraitâ€ç¿»è¯‘ä¸ºäº†â€œç‰¹è´¨â€ï¼Œä½ å¯ä»¥åœ¨æµè§ˆæ—¶å°†â€œç‰¹è´¨â€è¯»ä½œâ€œtraitâ€

---

```rust
// ä½ ä¸å¿…ç°åœ¨ç†è§£ä»¥ä¸‹ä»£ç ï¼Œä¸è¿‡ä½ å¯ä»¥å°è¯•è¿è¡Œå®ƒã€‚

// å®šä¹‰ä¸€ä¸ªç‰¹è´¨ `ToolBehavior`ï¼Œå®ƒåŒ…å«ä¸€ä¸ªæ–¹æ³• `use_tool`
trait ToolBehavior {
    fn use_tool(&self) -> String;

    // ç‰¹è´¨çš„é»˜è®¤å®ç°
    fn tool_size(&self) -> String {
        String::from("standard size")
    }
}

// å®šä¹‰ä¸€ä¸ª `MagicTool` ç»“æ„ä½“
struct MagicTool {
    name: String,
    power: u32,
}

// ä¸º `MagicTool` å®ç° `ToolBehavior` ç‰¹è´¨
impl ToolBehavior for MagicTool {
    fn use_tool(&self) -> String {
        format!("Using {} with power {}", self.name, self.power)
    }
}

// å®šä¹‰å¦ä¸€ä¸ªç‰¹è´¨ `Inspect`ï¼Œç”¨äºæ£€æŸ¥å·¥å…·
trait Inspect {
    fn inspect(&self) -> String;
}

// åŒæ—¶ä¸º `MagicTool` å®ç° `Inspect` ç‰¹è´¨
impl Inspect for MagicTool {
    fn inspect(&self) -> String {
        format!("{} is a magical tool with {} power.", self.name, self.power)
    }
}

// å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒæ¥å—å®ç°äº† `ToolBehavior` å’Œ `Inspect` çš„ä»»ä½•ç±»å‹
fn perform_task<T: ToolBehavior + Inspect>(tool: &T) {
    println!("{}", tool.use_tool());
    println!("{}", tool.inspect());
    println!("Tool size: {}", tool.tool_size());
}

fn main() {
    let magic_hammer = MagicTool {
        name: String::from("Magic Hammer"),
        power: 5,
    };

    perform_task(&magic_hammer);

    println!("\nYour journey continues into the dark forest.ğŸŒ²ğŸŒ²");
}
```
